import{S as d}from"./chunk-2RQLKDBF-D_P-n1w1.js";import{d7 as c,j as s,q as u,d as m,R as p,a as f,dJ as x,p as g,s as y,b as j,u as h,eu as v,H as b,A as w,T as l}from"./index-DVDzS5zo.js";import{P as D}from"./pencil-square-HcvTqo4T.js";import{T as S}from"./trash-BdZ7d_uU.js";import{u as T}from"./use-prompt-Dfdk2dg_.js";import{C}from"./container-BXC902rS.js";import"./Trans-gbTvuGyt.js";import"./x-mark-mini-Lz0IIf_4.js";import"./check-CpwEzBp2.js";import"./prompt-BT4Q14j5.js";var z=e=>{const{id:a}=e.params||{},{user:t}=c(a,void 0,{initialData:e.data,enabled:!!a});if(!t)return null;const n=[t.first_name,t.last_name].filter(Boolean).join(" ")||t.email;return s.jsx("span",{children:n})},P=e=>({queryKey:g.detail(e),queryFn:async()=>y.admin.user.retrieve(e)}),H=async({params:e})=>{const a=e.id,t=P(a);return u.ensureQueryData(t)},U=({user:e})=>{const{t:a}=j(),t=h(),i=T(),{mutateAsync:n}=v(e.id),r=[e.first_name,e.last_name].filter(Boolean).join(" "),o=async()=>{await i({title:a("general.areYouSure"),description:a("users.deleteUserWarning",{name:r??e.email}),verificationText:r??e.email,verificationInstruction:a("general.typeToConfirm"),confirmText:a("actions.delete"),cancelText:a("actions.cancel")})&&await n(void 0,{onSuccess:()=>{t("..")}})};return s.jsxs(C,{className:"divide-y p-0",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[s.jsx(b,{children:e.email}),s.jsx(w,{groups:[{actions:[{label:a("actions.edit"),to:"edit",icon:s.jsx(D,{})}]},{actions:[{label:a("actions.delete"),onClick:o,icon:s.jsx(S,{})}]}]})]}),s.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-center px-6 py-4",children:[s.jsx(l,{size:"small",leading:"compact",weight:"plus",children:a("fields.name")}),s.jsx(l,{size:"small",leading:"compact",children:r??"-"})]})]})},K=()=>{const e=m(),{id:a}=p(),{user:t,isPending:i,isError:n,error:r}=c(a,void 0,{initialData:e}),{getWidgets:o}=f();if(i||!t)return s.jsx(x,{sections:1,showJSON:!0,showMetadata:!0});if(n)throw r;return s.jsx(d,{data:t,showJSON:!0,showMetadata:!0,widgets:{after:o("user.details.after"),before:o("user.details.before")},children:s.jsx(U,{user:t})})};export{z as Breadcrumb,K as Component,H as loader};
